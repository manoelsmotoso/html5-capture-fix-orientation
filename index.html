<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <title>Photo with a Web Page</title>
</head>

<body class="container">
    <div class="canvas__box">
        <canvas></canvas>
    </div>
    <div class="btn__box">
        <button class="btn btn--success" id="proccessCanvas">baixar</button>
    </div>

    <script type="text/javascript">
        //Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
        (function (l) {
            if (l.search) {
                var q = {};
                l.search.slice(1).split('&').forEach(function (v) {
                    var a = v.split('=');
                    q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
                });
                if (q.p !== undefined) {
                    window.history.replaceState(null, null,
                        l.pathname.slice(0, -1) + (q.p || '') +
                        (q.q ? ('?' + q.q) : '') +
                        l.hash
                    );
                }
            }
        }(window.location))
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.js" type="text/javascript"></script>
    <script src="js/index.js"></script>
    <script>
        let usePwa = true;

        if (usePwa && 'serviceWorker' in navigator && window.location.hostname != 'localhost') {
            window.addEventListener('load', function () {
                navigator.serviceWorker
                    .register('/sw.js')
                    .then(function (registration) {
                        // Registration was successful
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    }).catch(function (err) {
                        // registration failed :(
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>